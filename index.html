<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="https://fonts.googleapis.com/css?family=Dancing+Script%7CMontserrat&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="main.css">
    <title>Lavy | Home</title>
</head>
<body>

    <header>
        <h1>Lavy</h1>
    </header>

    <main>
        <div id="map"></div>
        <p>Free toilets in Glasgow City Centre!</p>
    </main>

    <!--<div>Icons made by <a href="https://www.flaticon.com/authors/freepik" title="Freepik">Freepik</a> from <a href="https://www.flaticon.com/"             title="Flaticon">www.flaticon.com</a></div>-->
    
    <script>
    
        function initMap(){

            //Map options
            var options = {
                zoom: 15,
                center: {lat:55.8597, lng:-4.2550}
            }

            //New map
            var map = new google.maps.Map(document.getElementById('map'), options);
            
            addMarker({coords:{lat:55.8591, lng:-4.2581},
                iconImage: 'toilet.png',
                content: '<p>Glasgow Central Station<br/>Mon-Sat: 04:00 - 00:30<br/>Sun: 07:00 - 00:30</p>'
            });
            addMarker({coords:{lat:55.856764, lng:-4.2551296},
                iconImage: 'toilet.png',
                content: '<p>St. Enoch Centre<br/>Mon-Fri: 09:00 - 19:00<br/>Sat: 09:00 - 18:00<br/>Sun: 10:00 - 18:00</p>'
            });
            addMarker({coords:{lat:55.8639191, lng:-4.2544198},
                iconImage: 'toilet.png',
                content: '<p>Buchanan Galleries<br/>Mon-Wed,Sat: 09:00 - 18:00<br/>Thurs-Fri: 09:00 - 19:00<br/>Sun: 10:00 - 18:00</p>'
            });
        
            // Marker Function
            function addMarker(props){
                var marker = new google.maps.Marker({
                position: props.coords,
                map:map,
            });

                //ensuring icon
                if(props.iconImage){
                    //Set icon image
                    marker.setIcon(props.iconImage);
                }

                //ensuring content 
                if(props.content){
                    var infoWindow = new google.maps.InfoWindow({
                    content:props.content
                });

                    marker.addListener('click', function(){
                        infoWindow.open(map, marker);
                    });
                }
            }

        }

    </script>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDIr3VJDis3TbvLJrXwLJhdTvrnWsB-oPY&callback=initMap" async defer></script>    
</body>
</html>